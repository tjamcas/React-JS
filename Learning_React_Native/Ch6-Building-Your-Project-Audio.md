# Learning React Native
## Chapter 6: Building Your Project
### Video 1: Installing an IOS Simulator
-The best way to tests Native applications is on the device itself. If you don't have access to the device itself you can install simulators. The IOS simulator comes with Xcode. So in order to install it we need it install Xcode. So I can come in here and go to the app store and search for Xcode. Once we find it we will simply click install and Xcode we'll be downloaded and installed on our MAC. So with Xcode installed I'm going to come into our ColorCatalog application and run npm start. Doing so will start our Expo Bundler project and get our tunnel up and running and once our tunnel is ready you'll notice a button over here that says run on IOS simulator. When I click this button, Xcode will find your default IOS simulator and then run the current project within that simulator. Sometimes Expo gets hung up and doesn't complete this progress successfully. When this happens, or if it feels like something went wrong go ahead and come over into the window and click on run in simulator again and it will complete the process. When we use the IOS simulator with Expo, the Expo is installed locally on the simulator and you preview your application through the Expo application.

### Video 2: Installing an Android AVD for Mac
- The best way to test out a React Native application is to use an Android device. But if you don't have access to the device, you can use something called an AVD, an Android Virtual Device. In this lesson, we'll show you how to set up Android Studio on a Mac and configure an Android virtual device. The Android Studio is an IDE for developing Java applications that run on the Android platform. First, we need to download it. So I can do a quick Google search for Android Studio. And the first link we see is, download Android Studio and SDK tools. And the page itself has checked my operating system. It knows that I'm on a Mac and has selected the appropriate download. So I'll just click on the Download button. I'll agree to the terms and conditions and our download begins. Once we have our DMG downloaded, I go ahead and open it up. And I'll just drag Android Studio into the Applications folder to install it. So once installed, you'll find Android Studio within your applications. I can simply come over here and run it. And since we installed this application from the internet, I have to okay, it's used before opening it. When we initially open Android Studio, there's some configuration that needs to be done. So I don't have any configuration settings, so I'm not going to import them. And I'll go ahead and send statistics to Google so they can improve this product. Choose the standard setup for Android Studio, as well as set my default theme to light and Android Studio will run through its initial configuration. When we come to the Android Studio home screen, we can come down here to this configure menu and select a AVD manager. This is where we manage our Android virtual devices. So the first thing I need to do is, create a new virtual device. We can create all sorts of devices from TVs to wearables, even automotive devices. I'm going to create a phone and the phone that I'm going to create will emulate the Pixel XL. Next I need to choose the system image for my phone or the version of Android that is currently running. We have a lot of options which allow you to test your applications on all sorts of Android devices, running previous versions of Android. I'm simply going to select the Q version. And on this last screen, I can give this device a custom name, my phone. And when I click finish, we will create the virtual device. You can create as many virtual devices as you want. You'll see them show up in this list here. Clicking on the Play button next to each device, will start that virtual device. And I already have my color catalog project running. So I can come over here to our Expo Bundler window, and then click run on Android device or emulator. Expo knows to find whatever Android emulator I have running, install Expo on that emulator and then run my projects using Expo. This might take a few seconds. And if anything gets hung up, clicking on run on Android device again, might solve the problem. Here we can see our color catalog running within an Android virtual device.

Video 3: Installing an Android AVD for Windows
- he best way to test out your application is to always use it directly on a device. However, when you don't have access to a specific device, you can set up an Android Virtual Device in a Windows environment. In this lesson, I'm going to show you how to install Android Studio and set up an Android Virtual Device on Windows. So let's go ahead and open the browser and do a Google search for Android Studio. The first link that you see is the link to download the Android Studio and SDK tools. When you navigate to this page, it'll check your current operating system and provide a download link for that operating system. I'm going to go ahead and click download Android Studio and I will agree to the terms and conditions. So here, our download is complete. I'm going to go ahead and open our installer and then I will just follow the instructions. So I'm going to go ahead and set up Android Studio, make sure the Android Virtual Device box is checked. The default directory is fine. We'll add Android Studio to the start menu file. And we'll go ahead and let that install. When I click finish, we'll go ahead and start Android Studio for the first time. And once Android Studio boots up, we'll see this welcome screen. What I want to do is configure an Android Virtual Device. So I can click on the configure menu down here in the bottom right hand corner and select the AVD manager. This is where I can create virtual devices and you can create all types of Android virtual devices. Over here in the category menu, you can select from TV to wearables, to even automotive devices. I'm going to go ahead and create a phone. And the phone that I would like to emulate is the Pixel XL. On the next screen, I get to select the system image for the phone, which is the version of Android that it's currently running. You have the option to create Android virtual devices that use different system images. So you can test your application on different versions of Android. I'm simply going to to select the Q version. On this last screen, we can name the device. I'll go ahead and call it My Phone and click finish. And now here's our menu of Android Virtual Devices. In order to get this device started, I'm just going to click play next to this first one, which is My Phone. And we start up the Android emulator for the Pixel XL. We'll go ahead and let Google load on that emulator. And now I can open up my command prompt and from the ColorCatalog folder, I'll go ahead and run an NPM start. This will run an expo start and we will start up our expo host in our Metro Bundler. And then I can click Run on Android device emulator, and it will go ahead and open up my application within the emulator. So we can see here's our emulator. And we can see the JavaScript bundle is building. And finally, we have our ColorCatalog running in an Android Virtual Device.

### Video 4: Publishing Your Expo Project
- Most of the functionality for a React Native map is found within the Javascript bundle which is great because if you can update the JavaScript bundle, that means you can push application updates directly to your user's phone. Expo already provides the infrastructure and the environment to do this. In order to take advantage of it, we need to publish our project to Expo. So I currently have the color catalog up and running. Here we can see it in the iOS simulator. We also have our Expo Metro Bundler running and our tunnel up and our application appears to be working. There are a couple things that I want to do before publishing this application to Expo. If I come to the assets folder we can see the icon and splash that we've been using for our development application. But we also have our production icon and our production splash image here so we want to make sure that Expo knows where to find those when creating our application. The app.json is a file that Expo uses when it builds your application. It contains important configuration details about the application. So within this file we can see that we have an icon key down here. We also have a key for the splash. So instead of using the splash PNG, I'm going to go ahead and change this to cc-splash for color catalog splash and I'm going to do the same for the color catalog icon. So there, I just changed the splash and the icon file. Additionally I can add an application description here. So we'll add a description. Catalog your colors. Save your favorite web colors and view the details. We also need to make sure to manage our application version within this file as well. And for this particular app, I only want to build iOS or Android applications so I'm going to go ahead and remove the web from our Platforms array. All right. So in order to publish text though, all I need to do is come over here to the terminal. This is where the application is running. I'm going to go ahead and stop the application by clicking control + C. That will stop our process. Now whenever we make structural application changes like adding an icon and a splash image, we need to restart our application. And when I do so we can see that our expo metro bundler has refreshed. So I'll go ahead and run this in the iOS simulator. And when I do that we can see our splash screen and our application has an icon. So now we're ready to publish our application. I'm going to go ahead and open up a terminal window right within VS Code. And in order to publish our application I can use the Expo CLI. All I need to do is run Expo Publish and Expo will build your iOS JavaScript bundle, your Android JavaScript bundle, as well as place all of your assets online. Expo also provided a URL. Let's check that out. And it brings us to our project page hosted on Expo. And we can even test out the application from this page using Android devices. iOS doesn't support this feature. So there we go. We've published our bundle and it's being hosted online. In the future all we need to do is republish our bundle and those changes will automatically be pushed to everyone's device.

### Video 5: Building for IOS Devices
- When you're ready to distribute your iOS application to the App store, you can use Expo to manage the build process. So at present, I have the application running. We can see that we can test the application here within the iOS simulator. But the problem is we are not testing the standalone application by itself. We're still running this application in the simulator through Expo. So we're actually looking at the Expo app, when we're running our app. So let's say we wanted to build an iOS app and add it to the simulator. The first thing that we need to do is come into the app.json and add some specific build details to our iOS configuration. Specifically, we need a key called bundle identifier. This is the unique identifier for your iOS application. We typically name these comm.user or organisation.application name. So in my case, the application is going to be called, com.moonhighway, my organization, .color-organizer. I then want to add my iOS build number here. With those changes made to the app.json, we can go ahead and open up the terminal, and use the Expo CLI to run expo build:iOS. And then this will kick off our iOS build. What's happening is Expo is actually using Xcode in the iOS SDKs to build your application on their servers so that you don't have to. In order to submit an app to the App Store, you're going to need an account. During the build process, Expo can link your developer account to this build. So I'll go ahead and say yes, and I can put in my Apple ID. Now Expo can talk to the Apple developer portal on my behalf. We can also let Expo manage the process of building service keys for push notifications. We don't have any within our app, but I'll still go ahead and let Expo manage that process in case you want to add them in the future. You can set up your Apple provisioning on your own, but it's just easier to let Expo manage that process too. So if all that information Expo's ready to queue a build for iOS bundle. And that's the first thing that we see down here is that our build is queued. So it's waiting in line for an Expo server to open up to actually build your iOS application. And once the build does open up, we can see that that build is in progress. Now you can monitor this build using the Expo Dashboard. So I can click on this link and we actually open up a website that will give us specific details about the current build, including the logs associated with that build. So this build is in progress, we'll go ahead and wait for it to finish. Now if for some reason you killed the terminal that you started the build in it really doesn't matter because the build is happening on Expo servers. I can find out the build status using the CLI simply by typing Expo build:status, and it looks like our build has finished. So now I can download my zip application using this link. And I'll go ahead and check my downloads folder and we can see that a zip file has been created with my application. So I'm going to go ahead and copy this file name. And then I'm going to unzip it by running tar -xvzf and this will unzip our application. So the next time we take a look at the files within the download folder, we can see that we have the ColorCatalog.app. So now I can install this iOS app onto my simulator with the command xcrun or Xcode run sim control install booted ColorCatalog.app. Booted it tells Xcode to install the application on the simulator that's currently running. And once this is complete, we should be able to come over here to the other screen. And there we can see our Color Catalog application running independently. So this is the application that we can distribute to the App Store.

### Video 6: Building for Android Devices
- We can use Expo to help us build our application for Android devices. This means that you don't have to install Android Studio, or the Android STK to build an application that you're ready to distribute to the Google Play Store. So here we can see the color organizer is up and running within an Android simulator. The application appears to be working, but when we test this application we're actually testing it through the Expo app. Let's go ahead and build an Android application that we can install directly on this simulator. The first thing I need to do is go into the app.json file and provide Android with some configuration information that it can use during the build process. Specifically I have to name the package. So in this case, we're going to do com.moonhighway.colorcatalog for the name of our Android application. Once I have that saved, I can open up the terminal and use the Expo CLI to run Expo build:Android. So doing this, we'll get asked if we want to manage our own KeyStore. We'll let Expo handle that process. And what you'll notice is that our Android build is queued. What this means is we are waiting for an available Expo server to run our build. We can actually use the Expo Dashboard to take a look at the build progress. So you can monitor the build at this link here. So if I go over to the web browser and place that link in, we can see that our status has changed to In Progress and we can also see all of the information about our Android build, including our build logs. So there we go. Our build has finished. We have a standalone Android app. So here is the link to our application. We can go ahead and click on this Expo artifacts link and download our application. That will automatically download the APK to the Downloads directory for me. So I'll go ahead and go to the Downloads directory. So in here we can see that we have our APK file. I can go ahead and run the open dot command, which is going to go ahead and open up this folder within the finder, so we can see that file directly, because all I need to do install this file in an Android virtual device is simply drag it over the device. So by dragging and dropping this APK into our Android virtual device, it is installing our standalone application. Once installed, I can view my application. So here's our standalone color organizer. There is the icon. I can click on it and it will open up and run our Color Catalog on this Android virtual device. So Expo can manage your build for you and deliver an APK file, so that you can upload it to the Google Play Store.

### Video 7: Ejecting from Expo
- You could easily eject your application from Expo which would give you access to both the iOS and Android source files. In this lesson, we're going to go ahead and take a look at how we can eject the color catalog from Expo. So you'll notice, we don't have any iOS files specifically or Android files specifically within our file folder. So I'm going to go ahead and open up the Terminal, and using the Expo CLI, I can run expo eject. Now be careful. This is going to eject your application from Expo which means that you now have to manage building this application on your own. You have a couple options when it's time to eject. I'm just going to select the first one. And eject to bare applications. You can also name the application for your user's home screen. I'm just going to go ahead and keep the ColorCatalog name. You can also name the Android studio project. Again, I'll keep the ColorCatalog name. And now we have ejected our application. The first thing that you can see is the application that we're trying to test has completely broken because we ejected the application and have completely changed our local file structure. Once we have successfully ejected the application, we can go ahead and take a look at the files. So you will notice that we now have an iOS folder. This is where our iOS project is based, So I could open up this project directly in Xcode. I also have access to the Android source files, so I can also take this folder and drag it over the Android Studio, and this opens up our application within the Android Studio.
